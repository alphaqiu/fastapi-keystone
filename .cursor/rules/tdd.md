# 测试驱动开发（TDD）规则

# 规则1：在实现功能前先写测试
# 开发任何新功能之前，请首先为该功能编写单元测试。
# 测试应尽可能简单且直接，仅验证所需功能的一个方面。
# 示例：
# 在添加新方法 `add` 到 `Calculator` 类之前，
# 应先编写如下测试用例：
#
# ```python
# def test_add():
#     calc = Calculator()
#     assert calc.add(2, 3) == 5
# ```

# 规则2：运行测试并确认失败
# 在编写或修改功能代码后，立即运行所有相关测试。
# 确认新增的测试确实因缺少功能实现而失败。

# 规则3：编写最少量的代码使测试通过
# 编写刚好足够的代码来让测试通过。
# 避免在此阶段进行优化或增加额外的功能。
# 目标是尽快让测试变为绿色（通过）状态。

# 规则4：重构代码
# 在所有测试都通过之后，对代码进行必要的重构。
# 这包括但不限于简化逻辑、消除重复代码、提高可读性等。
# 每次重构后都要重新运行测试，确保没有引入新的错误。

# 规则5：保持高测试覆盖率
# 努力达到较高的测试覆盖率，但更注重质量而非数量。
# 覆盖关键逻辑路径和边界条件尤为重要。

# 规则6：使用Mock对象隔离依赖
# 当测试涉及到外部依赖（如数据库、网络请求）时，使用mock对象模拟这些依赖。
# 这有助于确保每个测试都是独立的，并减少测试环境的复杂性。

# 规则7：定期回顾和更新测试
# 随着项目的演进，定期回顾现有的测试套件。
# 删除不再适用的测试，更新过时的测试，以及根据需要添加新的测试。

# 规则8：也要将AI使用费用考虑在内
# 在编写测试时，也要将AI使用费用考虑在内，确保每次提交都会自动运行所有测试，减少频繁调用次数
# 也要考虑AI的输出质量，确保每次输出都是高质量的，避免重复调用
# 这有助于快速发现潜在问题，并保证代码库的整体健康状况。